

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=dark>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="友纪V-λOP">
  <meta name="keywords" content="">
  
    <meta name="description" content="为了熟悉 webpack 相关工具链，考虑跟随官方文档，从零开始去创建一个 typescript + react 的项目以作为实践。">
<meta property="og:type" content="article">
<meta property="og:title" content="从零开始使用 webpack 搭建 typescript + react 项目">
<meta property="og:url" content="http://example.com/2022/08-19%E4%BD%BF%E7%94%A8webpack%E6%90%AD%E5%BB%BAtypescript-react%E9%A1%B9%E7%9B%AE.html">
<meta property="og:site_name" content="友纪V-λOP">
<meta property="og:description" content="为了熟悉 webpack 相关工具链，考虑跟随官方文档，从零开始去创建一个 typescript + react 的项目以作为实践。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-08-19T12:24:00.000Z">
<meta property="article:modified_time" content="2023-11-12T03:44:40.302Z">
<meta property="article:author" content="友纪V-λOP">
<meta property="article:tag" content="Real World">
<meta name="twitter:card" content="summary_large_image">
  
  
  <title>从零开始使用 webpack 搭建 typescript + react 项目 - 友纪V-λOP</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/atom-one-dark.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"#"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":false,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/rss2.xml" title="友纪V-λOP" type="application/rss+xml">
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>友纪V-λOP的blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="从零开始使用 webpack 搭建 typescript + react 项目">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-08-19 20:24" pubdate>
        2022年8月19日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      8.2k 字
    </span>
  

  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">从零开始使用 webpack 搭建 typescript + react 项目</h1>
            
            <div class="markdown-body">
              <p>为了熟悉 webpack 相关工具链，考虑跟随官方文档，从零开始去创建一个 typescript + react 的项目以作为实践，其中尽量为所有配置项的配置和意义都给予描述，专注所以然而非其然。这里想达到下面的目标：</p>
<ul>
<li>最少的配置项，所有配置项都明确描述，尽量依赖默认配置项</li>
<li>支持 typescript，tsx，集成 react</li>
<li>提供和 create-react-app 一样的体验</li>
</ul>
<h1 id="啥是-webpack"><a href="#啥是-webpack" class="headerlink" title="啥是 webpack"></a>啥是 webpack</h1><p>简单来说，webpack 是一个<strong>静态</strong>的打包器，webpack 从特定的 js 文件（称为 <strong>entry</strong>）开始去构建对应的<strong>依赖树</strong>，其中包括该 js 文件依赖（import）的文本，css，其它 js 文件等，每个依赖树或 entry 都会打成一个包 <strong>bundle</strong>，也称为 chunk。</p>
<p>每个可以 import 的文件称为 module。</p>
<h1 id="项目创建"><a href="#项目创建" class="headerlink" title="项目创建"></a>项目创建</h1><p>首先创建一个新文件，执行<code>npm init</code>，一路 Enter，创建一个默认的 package.json 文件，然后安装相应依赖。</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">npm i -D webpack webpack-cli ts-loader css-loader style-loader ts-node typescript mini-css-extract-plugin html-webpack-plugin @types/node @types/react @types/react-dom @types/webpack  <br>npm i -S react react-dom react-scripts<br></code></pre></div></td></tr></table></figure>

<p>编辑 package.json，移除 main 属性，添加 private 属性为 true。</p>
<p>然后初始化 tscconfig.json：</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">npx tsc -init<br></code></pre></div></td></tr></table></figure>

<h1 id="first-step"><a href="#first-step" class="headerlink" title="first step"></a>first step</h1><p>先研究一下 webpack 的基础用法，考虑创建文件夹 src，创建两个 js 文件 index.js，Util.js：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// Util.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">x, y</span>) =&gt; x + y<br><br><span class="hljs-comment">// index.js</span><br><span class="hljs-comment">// 使用 import 去引入依赖</span><br><span class="hljs-keyword">import</span> &#123;add&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Util&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>))<br></code></pre></div></td></tr></table></figure>

<p>这时的项目结构：</p>
<figure class="highlight 1c"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs 1c">dir<br>  <span class="hljs-string">|- package.json</span><br>  <span class="hljs-string">|- package-lock.json</span><br>  <span class="hljs-string">|- /src</span><br>    <span class="hljs-string">|- index.js</span><br>    <span class="hljs-string">|- Util.js</span><br></code></pre></div></td></tr></table></figure>

<p>然后执行<code>npx webpack</code>命令，能够发现它生成了<code>dist/main.js</code>，其中内容为：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">(<span class="hljs-function">()=&gt;</span>&#123;<span class="hljs-string">&quot;use strict&quot;</span>;<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)&#125;)();<br></code></pre></div></td></tr></table></figure>

<p>显然，webpack 将 index.js 和 Util.js 打包成了 main.js 文件，这就是 webpack 的默认行为——以<code>src/index.js</code>为 entry，输出到<code>dist/main.js</code>。因为 index.js 引入了 Util.js，因此 Util.js 被一并打包（并进行了优化）。这时候我们就可以在 dist 目录下添加 index.html 并引入 main.js 以查看效果。</p>
<p>但对其它文件呢？比如 jsx 文件？考虑编写一个简单的 jsx 文件并将其 import：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// Hello.jsx</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Hello</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello, Happy World!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  )<br>&#125;<br><br><span class="hljs-comment">// index.js</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Hello</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./Hello&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Hello</span>())<br><br></code></pre></div></td></tr></table></figure>

<p>再执行<code>npx webpack</code>，webpack 会试图找 js，json，wasm 后缀的 Hello 文件，找不到后抱怨<code>Field &#39;browser&#39; doesn&#39;t contain a valid alias configuration</code>，这是 webpack 的默认配置，而这里显然需要自定义配置。</p>
<h1 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h1><p>在项目根目录（package.json 同级目录）下创建文件 webpack.config.ts（也可以是 js，但这里利用上 ts 的类型机制；<strong>webpack 默认不支持 ts，需要安装 ts-loader，ts-node 依赖</strong>），这个文件将是 webpack 的配置文件。</p>
<figure class="highlight typescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;path&#x27;</span><br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Configuration</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;webpack&#x27;</span><br><br><span class="hljs-comment">// 添加 devServer 相关类型定义，没有这个 Configuration 中就没有 devServer 配置项了</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;webpack-dev-server&#x27;</span>;<br><br><span class="hljs-comment">// Configuration 是 Webpack 的配置项类型</span><br><span class="hljs-keyword">const</span> <span class="hljs-attr">conf</span>: <span class="hljs-title class_">Configuration</span> = &#123;<br>  <span class="hljs-attr">mode</span>: <span class="hljs-string">&#x27;development&#x27;</span>, <span class="hljs-comment">// 默认为 production 模式</span><br>  <span class="hljs-attr">entry</span>: <span class="hljs-string">&#x27;./src/index.ts&#x27;</span>, <span class="hljs-comment">// 入口 js 文件，可以配置多个 entry</span><br>  <span class="hljs-attr">output</span>: &#123;<br>    <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;dist&#x27;</span>), <span class="hljs-comment">// 输出路径</span><br>    <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;main.js&#x27;</span>, <span class="hljs-comment">// 输出文件名，具有一定动态性，如可配置成 [name].[chunkhash].js，其会被替换为名称和一个文件哈希值（以保证浏览器会重新加载，但这需要相关 plugin 去支持，后面再详述）</span><br>  &#125;,<br>  <span class="hljs-attr">resolve</span>: &#123;<br>    <span class="hljs-comment">// webpack 将识别这些后缀文件为 module</span><br>    <span class="hljs-comment">// 这个配置是覆盖原配置的，因此应当给定所有后缀，否则使用第三方库时必然会出问题</span><br>    <span class="hljs-attr">extensions</span>: [<span class="hljs-string">&quot;.wasm&quot;</span>, <span class="hljs-string">&quot;.ts&quot;</span>, <span class="hljs-string">&quot;.tsx&quot;</span>, <span class="hljs-string">&quot;.mjs&quot;</span>, <span class="hljs-string">&quot;.cjs&quot;</span>, <span class="hljs-string">&quot;.js&quot;</span>, <span class="hljs-string">&quot;.json&quot;</span>] <br>  &#125;,<br>  <span class="hljs-attr">module</span>: &#123; <span class="hljs-comment">// 关于 module 的配置</span><br>    <span class="hljs-comment">// 在这里配置 loader</span><br>  &#125;,<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> conf<br></code></pre></div></td></tr></table></figure>

<h1 id="配置-ts-支持"><a href="#配置-ts-支持" class="headerlink" title="配置 ts 支持"></a>配置 ts 支持</h1><p>webpack 加载文件是通过 loader 去进行的，特定的 loader 加载特定类型的文件（毕竟要能够打包到 js 文件中，因此必须要将这些文件变成 js 代码格式），比如 raw-loader 加载文本文件，ts-loader 加载 typescript 文件……</p>
<p>在配置中的 module.rule 项便可以配置 loader 以及相应的后缀，这里配置 tsx 和 ts：</p>
<figure class="highlight typescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs typescript">&#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">module</span>: &#123; <span class="hljs-comment">// 关于 module 的配置</span><br>    <span class="hljs-attr">rules</span>: [<br>      &#123;<br>        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.tsx?$/</span>, <span class="hljs-comment">// ts 或 tsx</span><br>        <span class="hljs-attr">use</span>: <span class="hljs-string">&#x27;ts-loader&#x27;</span>,<br>        <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/node_modules/</span> <span class="hljs-comment">// 排除 node_module 下的 ts 文件</span><br>      &#125;,<br>    ]<br>  &#125;,<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>配置了这项后，便可以去直接导入 ts 和 tsx 文件了，index 文件也可以改成 ts。tsx 文件需要在 tsconfig.json 中添加一项配置（毕竟 typescript 需要知道要的究竟是哪个 tsx 实现）：</p>
<figure class="highlight json"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs json"><span class="hljs-attr">&quot;jsx&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;react-jsx&quot;</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">/* Specify what JSX code is generated. */</span><br></code></pre></div></td></tr></table></figure>

<h1 id="配置-sourceMap"><a href="#配置-sourceMap" class="headerlink" title="配置 sourceMap"></a>配置 sourceMap</h1><p>如果仅做了上面的配置，当代码中出现未捕获的异常中，控制台中无法看到异常出现的位置，这在开发中是无法容忍的，这将通过配置sourceMap来解决：</p>
<figure class="highlight typescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs typescript">&#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">devtool</span>: <span class="hljs-string">&#x27;inline-source-map&#x27;</span><br>&#125;<br></code></pre></div></td></tr></table></figure>

<h1 id="配置绝对路径导入"><a href="#配置绝对路径导入" class="headerlink" title="配置绝对路径导入"></a>配置绝对路径导入</h1><p>使用相对路径去 import 可读性不好，且重构的时候也不方便，实现一个绝对路径的导入是比较重要的。</p>
<p>绝对路径的配置需要配置两个部分——webpack 和 tsconfig，前者是为了让 webpack 去确定路径，后者为了让 ts 编译器确定路径。这里我们想让<code>@</code>去代替 src 目录，因此我们可以使用形如<code>@/util</code>的形式去导入。</p>
<p>对于 webpack，添加 resolve.alias 配置：</p>
<figure class="highlight typescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs typescript">&#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">resolve</span>: &#123;<br>    <span class="hljs-comment">// ...</span><br>    <span class="hljs-attr">alias</span>: &#123;<br>      <span class="hljs-string">&#x27;@&#x27;</span>: path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">&#x27;/src/&#x27;</span>) <span class="hljs-comment">// 配置@为 src 目录，使不需要每次都使用相对路径去 import</span><br>    &#125;<br>  &#125;,<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>对于 tsconfig，添加下面的配置：</p>
<figure class="highlight json"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs json"><span class="hljs-attr">&quot;baseUrl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;./&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">/* Specify the base directory to resolve non-relative module names. */</span><br><span class="hljs-attr">&quot;paths&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;@/*&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;src/*&quot;</span><br>  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>               <span class="hljs-comment">/* Specify a set of entries that re-map imports to additional lookup locations. */</span><br></code></pre></div></td></tr></table></figure>

<blockquote>
<p>这里的 baseUrl 似乎是默认配置，但不给定这个配置的话 vscode 不会补全路径</p>
</blockquote>
<p>既让 webpack 满意，也能让 tsc 满意，目的已经达到了。</p>
<p>需注意，<strong>tsc 编译时不会去转换 paths</strong>，因此使用 ts-node 去运行，或者使用 tsc 编译后使用 node 去运行时会报错，这在 webpack 环境下不是问题，但倘若将服务端的代码也放在这就会有问题了，解决方案是使用 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/tsconfig-paths">tsconfig-paths</a>，这里先不研究这个。</p>
<h1 id="编写-react-示例"><a href="#编写-react-示例" class="headerlink" title="编写 react 示例"></a>编写 react 示例</h1><p>好玩的地方来了，在上面的基础上创建一个 react 示例。</p>
<p>首先需要在 dist 下去创建一个文件 index.html，编辑其 body，添加一个根元素并引入 main.js：</p>
<figure class="highlight html"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./main.js&quot;</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></div></td></tr></table></figure>

<p>然后编写 index.tsx 和 App.tsx：</p>
<figure class="highlight jsx"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs jsx"><span class="hljs-comment">// index.tsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ReactDOM</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-dom/client&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/App&#x27;</span><br><br><span class="hljs-keyword">const</span> root = <span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;root&#x27;</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLElement</span><br>);<br><br>root.<span class="hljs-title function_">render</span>(<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>)<br><br><span class="hljs-comment">// App.tsx</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Fragment</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><span class="hljs-keyword">import</span> &#123; useReducer &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> [counter, plus] = <span class="hljs-title function_">useReducer</span>(<span class="hljs-function"><span class="hljs-params">c</span> =&gt;</span> c + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Fragment</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello, Fucking World<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;plus&#125;</span>&gt;</span>Counter: &#123;counter&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">Fragment</span>&gt;</span></span><br>  )<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>执行<code>npx webpack</code>，在 dist 目录下执行<code>http-server</code>，访问<code>127.0.0.1:8080</code>，bingo！</p>
<p>快结束了，但这里仍有几个问题：</p>
<ol>
<li>每次修改源代码都需要重新编译，费时费力</li>
<li>可能有缓存问题（即 main.js 更新，但浏览器仍旧用的旧的 main.js）</li>
<li>css 等重要的资源未提供通过 js 的导入方式</li>
<li>未提供方便命令去进行编译，打包等操作</li>
</ol>
<h1 id="配置-dev-server-和-http-plugin"><a href="#配置-dev-server-和-http-plugin" class="headerlink" title="配置 dev server 和 http-plugin"></a>配置 dev server 和 http-plugin</h1><p>解决问题 1，2 需要一个合适的热更新机制，webpack 提供了相应机制，即 webpack-dev-server，其会监测源代码的改变并进行热更新。</p>
<p> devServer 在 webpack 配置文件中配置，只需要添加下面的配置即可：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-attr">devServer</span>: &#123;<br>  <span class="hljs-attr">open</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">static</span>: <span class="hljs-string">&#x27;dist/&#x27;</span> <span class="hljs-comment">// devServer 将从这个位置去获取所有“静态”内容，即 html，js，css 等，这里应当修改为输出目录</span><br>&#125;,<br></code></pre></div></td></tr></table></figure>

<p>配置此之后，执行<code>npx webpack serve</code>便可启动 devServer。</p>
<p>然后是解决缓存问题，这里配置输出 bundle 文件名为<code>[name].[chunkhash].js</code>，配置一个插件 HtmlWebpackPlugin，该插件会自动生成 html 文件，其中会自动引入相应 script 标签：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// ...</span><br><span class="hljs-attr">output</span>: &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;[name].[chunkhash].js&#x27;</span>,  <br>&#125;,<br><span class="hljs-attr">plugins</span>: [<br>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>(&#123;<br>    <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&#x27;index.html&#x27;</span>) <span class="hljs-comment">// 指定 html “模板”文件</span><br>  &#125;),<br>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProgressPlugin</span>() <span class="hljs-comment">// 展示进度</span><br>],<br></code></pre></div></td></tr></table></figure>

<p>这里因为要创建一个根 div，且保留原有的 header，因此使用一个模板 html，内容为之前的 html 移除 script 标签的内容。此时启动服务器，查看网页的 header，能看到 js 文件被自动引入了，且原有的 header，body 被保留了。</p>
<h1 id="导入-css-文件"><a href="#导入-css-文件" class="headerlink" title="导入 css 文件"></a>导入 css 文件</h1><p>现在我们希望能够导入 css 文件，但又不想去手动编辑 html 文件，如何去操作呢？当然仍旧是使用 loader 去实现：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-attr">resolve</span>: &#123;<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">extensions</span>: [<span class="hljs-string">&quot;.wasm&quot;</span>, <span class="hljs-string">&quot;.ts&quot;</span>, <span class="hljs-string">&quot;.tsx&quot;</span>, <span class="hljs-string">&quot;.mjs&quot;</span>, <span class="hljs-string">&quot;.cjs&quot;</span>, <span class="hljs-string">&quot;.js&quot;</span>, <span class="hljs-string">&quot;.json&quot;</span> , <span class="hljs-string">&quot;css&quot;</span>], <span class="hljs-comment">// 添加 css</span><br>&#125;,<br><span class="hljs-attr">module</span>: &#123; <span class="hljs-comment">// 关于 module 的配置</span><br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-attr">rules</span>: [<br>    <span class="hljs-comment">// ...</span><br>    &#123; <span class="hljs-comment">// 添加 rule</span><br>      <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>      <span class="hljs-attr">use</span>: [<span class="hljs-string">&#x27;style-loader&#x27;</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>]<br>    &#125;<br>  ]<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>需要注意的是，cssloader 需要两个 loader，其中执行顺序为从后到前，即先执行 css-loader，再执行 style-loader。<a target="_blank" rel="noopener" href="https://webpack.js.org/loaders/css-loader/#getting-started">css-loader</a> 的作用是处理 css 文件中的 import，<a target="_blank" rel="noopener" href="https://webpack.js.org/loaders/style-loader/#root">style-loader</a> 则是添加这样的 js 代码，即将 css 文件的内容在<strong>运行时</strong>添加到 header。</p>
<p>单这样问题就来了——css 文件全放到 js 里会大大增加 js 文件的大小，有什么方法可以规避的？可以使用 <a target="_blank" rel="noopener" href="https://webpack.js.org/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a> 这个插件使在编译时将文件复制到目标目录；配置 MiniCssExtractPlugin 需要配置 plugins 以及相应 loader：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">// ...</span><br><span class="hljs-attr">plugins</span>: [<br>  <span class="hljs-comment">// ...</span><br>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">MiniCssExtractPlugin</span>()<br>],<br><span class="hljs-attr">module</span>: &#123; <span class="hljs-comment">// 关于 module 的配置</span><br>  <span class="hljs-attr">rules</span>: [<br>    <span class="hljs-comment">// ...</span><br>    &#123;<br>      <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,<br>      <span class="hljs-attr">use</span>: [<span class="hljs-title class_">MiniCssExtractPlugin</span>.<span class="hljs-property">loader</span>, <span class="hljs-string">&#x27;css-loader&#x27;</span>]<br>    &#125;<br>  ]<br>&#125;<br></code></pre></div></td></tr></table></figure>

<h1 id="导入图片资源"><a href="#导入图片资源" class="headerlink" title="导入图片资源"></a>导入图片资源</h1><p>导入 css 很容易，但若是想导入如图片等资源呢？我们可能会在配置文件中加入相应 loader，然后这样使用图片资源：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> imageUrl <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/img/abc.png&#x27;</span><br><span class="hljs-comment">// ...</span><br><span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;imageUrl&#125;</span> /&gt;</span></span><br></code></pre></div></td></tr></table></figure>

<p>但在 typescript 里，这样会有一个问题——tsc 不知道从这图片文件中究竟导出了什么玩意，这需要我们对 tsc 进行配置，方式是在源代码目录中添加一个 d.ts 文件，并进行相关定义：</p>
<figure class="highlight typescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs typescript"><span class="hljs-comment">// env.d.ts</span><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.gif&#x27;</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> src;<br>&#125;<br><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.jpg&#x27;</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> src;<br>&#125;<br><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.jpeg&#x27;</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> src;<br>&#125;<br><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;*.png&#x27;</span> &#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span>;<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> src;<br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>然后在配置文件中添加下面的规则，这里使用了 webpack 5 对静态资源的处理方式 <a target="_blank" rel="noopener" href="https://webpack.js.org/guides/asset-modules/">asset module</a>，不需要额外的 loader，原始方法是使用 <a target="_blank" rel="noopener" href="https://v4.webpack.js.org/loaders/url-loader/">url-loader</a> 或 <a target="_blank" rel="noopener" href="https://v4.webpack.js.org/loaders/file-loader/">file-loader</a>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">&#123;<br>  <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpe?g|gif)$/</span>, <span class="hljs-comment">// 图片文件按 url</span><br>  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;asset/resource&#x27;</span> <span class="hljs-comment">// 导出 url，注意这里属性名不是 use</span><br>&#125;<br></code></pre></div></td></tr></table></figure>

<p>配置完毕后，typescript 就能正确识别导出的类型了。</p>
<h1 id="添加启动命令"><a href="#添加启动命令" class="headerlink" title="添加启动命令"></a>添加启动命令</h1><p>每次执行都输入一堆东西很麻烦？考虑在 package.json 中添加相应命令：</p>
<figure class="highlight json"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs json"><span class="hljs-attr">&quot;scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;build&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack --mode=production --node-env=production&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;build:dev&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack --mode=development&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;build:prod&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack --mode=production --node-env=production&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;watch&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack --watch&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;serve&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;webpack serve&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></div></td></tr></table></figure>

<hr>
<p>这里只是介绍最简单的使用，各种优化，开发和生产配置分离，loader 的配置，plugin，webpack 的整个生命周期，测试……有需要再去学习。之后也考虑在这篇笔记的基础上搭建 MERN 环境。</p>
<p>上述代码见 <a href="/file/webpack-react-example.zip">此</a>。</p>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul>
<li><a target="_blank" rel="noopener" href="https://marxjiao.com/2018/04/10/node-webpack/">使用 webpack 搭建基于 typescript 的 node 开发环境</a></li>
<li><a target="_blank" rel="noopener" href="https://webpack.js.org/guides/getting-started">Webpack get started</a></li>
<li><a target="_blank" rel="noopener" href="https://webpack.js.org/configuration/configuration-languages/#typescript">Webpack 使用 ts 配置文件</a></li>
<li><a target="_blank" rel="noopener" href="https://webpack.js.org/guides/typescript/">Webpack Guide Typescript</a></li>
<li><a target="_blank" rel="noopener" href="https://webpack.js.org/configuration/">Webpack Configurations</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/55916731/using-absolute-paths-in-typescript-for-imports">Stackoverflow using absolute paths in typescript for imports</a></li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Real-World/">Real World</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-NC-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/08-23implement-Algebra-Data-Types-in-Typescript.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">在 Typescript 中 实现 ADT（Algebra Data Types）</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/08-17%E3%80%8AFundamentals-of-Music-Theory%E3%80%8Bnote-week-2.html">
                        <span class="hidden-mobile">《Fundamentals of Music Theory》 笔记 Week 2</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>





  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


<!-- hexo injector body_end start -->
<script src="/assets/prism-bundle.js"></script>
<script src="/assets/prism-plus.js" data-pjax=""></script>
<!-- hexo injector body_end end --></body>
</html>
